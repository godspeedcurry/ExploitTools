import hashlib, os
from tqdm import tqdm
import click

banner = r"""
                  _                         _ 
   __ _  ___   __| |___ _ __   ___  ___  __| |
  / _` |/ _ \ / _` / __| '_ \ / _ \/ _ \/ _` |
 | (_| | (_) | (_| \__ \ |_) |  __/  __/ (_| |
  \__, |\___/ \__,_|___/ .__/ \___|\___|\__,_|
  |___/                |_|                                            
"""
@click.command()
@click.option('--myfile', default='1.txt', help='The person to greet.')
@click.option('--myhash', default='6ac0b98f08d3c3eee91dff8146990e35', help='The person to greet.')

def main(myfile,myhash):
	def get_md5(plain):
		return hashlib.md5(plain.encode()).hexdigest()


	def custom_encode(plain):
		return get_md5(get_md5(plain) + 'JUD6FCtZsqrmVXc2apev4TRn3O8gAhxbSlH9wfPN')

	l = int(os.popen('cat {}| wc -l'.format(myfile)).read().strip())
	click.secho(banner, fg='green')
	click.secho('NUMBER of password: {}'.format(l),fg='red')
	pbar = tqdm(total=l)
	with open(myfile,'r') as f:

		for line in f:
			pbar.update(1)	
			task = line.strip()
			if custom_encode(task) == myhash:
				click.secho("[DONE]{}".format(task),fg='red')
				break
	pbar.close()

main()

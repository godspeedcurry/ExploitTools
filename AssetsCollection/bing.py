# page 那行参数看需求多写一点1,11,21,31,41,51
import requests,re,click,time,sys
from selenium import webdriver
from selenium.webdriver.chrome.options import Options
import time
@click.command()
@click.option("-d","--domain",default="geely.com",help="domain name")
def get_bing_html(domain):
    print(domain)
    ans = []    
    chrome_options = Options()
    chrome_options.add_argument('--no-sandbox')
    chrome_options.add_argument('--headless')

    driver = webdriver.Chrome(options=chrome_options, executable_path=r'/Users/godspeed/Downloads/chromedriver')
    driver.maximize_window()
    for page in [1,11,21,31]:
        driver.get("https://cn.bing.com/search?q=domain:{}&first={}".format(domain,page))
        time.sleep(3)
        s = driver.page_source
        ans += re.findall("<cite>(.*?)</cite>",s)
        
    print('\n'.join(list(set(ans))))
get_bing_html()
